TODO:
    - make preference checkboxes sync with setting properly
    - add option to invert revealed area
    - add option to show on left of main editor
    - handle line-wrapping mode
